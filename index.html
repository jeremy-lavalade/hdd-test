<!DOCTYPE html>
<html lang="fr">

<head>
	<!-- SECTION A MODIFIER -->
	<title>L'Harmonie du Doute - Film</title>
	<link rel="stylesheet" href="css/accueil.css">

	<!-- SECTION A MODIFIER SELON SI PAGE PRINCIPALE OU SECONDAIRE -->
	<link rel="stylesheet" href="style.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="script.js"></script>

	<!-- PAS DE MODIFICATION REQUISE -->
	<meta name="keywords" content="cinema, thriller, ecologie, dystopie">
	<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="https://www.harmoniedudoutefilm.fr/seo/favicon-hdd.png">
  <meta name="description" content="Face aux défis écologiques, L’Harmonie du Doute est un film à suspense qui explore l'équilibre entre esprit critique et passivité, humains et environnement.">
  <!-- Balises Open Graph pour intégration avec les réseaux sociaux -->
  <meta property="og:title" content="L'Harmonie du Doute - Film">
  <meta property="og:description" content="Face aux défis écologiques, L’Harmonie du Doute est un film à suspense qui explore l'équilibre entre esprit critique et passivité, humains et environnement.">
  <meta property="og:image" content="https://www.harmoniedudoutefilm.fr/seo/logo-hdd.png">
  <meta property="og:url" content="https://www.harmoniedudoutefilm.fr">
  <meta property="og:site_name" content="L'Harmonie du Doute - Film">
  <!-- Liens préchargés pour améliorer les performances de chargement -->
  <link rel="preconnect" href="https://www.harmoniedudoutefilm.fr">
  <!-- Intégration de la feuille de style pour le navigateur Chrome sur Android -->
  <meta name="theme-color" content="#ffffff">
  <!-- Canonical URL pour éviter le contenu dupliqué -->
  <link rel="canonical" href="https://www.harmoniedudoutefilm.fr">
  <!-- Sitemap et Robots pour guider les crawlers des moteurs de recherche -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://www.harmoniedudoutefilm.fr/seo/sitemap.xml">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.3/pixi.min.js"></script>

</head>

<body>

<!-- HEADER -->
	<div id="header"></div>

<!-- CORPS DE LA PAGE -->
	<div id="accueil1">
		<h4 class="Xmargin10 center light-font">
			Et si la clé de l'harmonie résidait dans la profondeur des doutes...
		</h4>

		<img id="accueil-moodboard" src="images/accueil/moodboard.webp" alt="Moodboard de L'Harmonie du Doute">

		<h3 class="Xmargin10 center light-font">
			LE FILM <br>EN QUELQUES M<span style="color: #F2A6AF;">O</span>TS
		</h3>

		<div class="Xmargin10">
			<p class="justify light-font">
				La tragique montée des eaux a isolé la <b><span class="pink-font" style="text-shadow: 0.2px 0.2px 0px #343737;">dernière terre encore émergée de la planète</span></b> : l’île de La Pointe Rose. Depuis des décennies, un peuple y vit paisiblement, libre et sans pensées négatives.<br><br>

				Un matin, Tana, une <b><span class="pink-font" style="text-shadow: 0.2px 0.2px 0px #343737;">journaliste</span></b> appréciée et reconnue de tous, trouve un journal dans la rue. Ce fait, a priori anodin, la fait pourtant basculer dans un questionnement dérangeant.<br><br>

				Avec une inquiétude sourde, elle ressent intuitivement que <b><span class="pink-font" style="text-shadow: 0.2px 0.2px 0px #343737;">l’harmonie qui règne sur l'île n’est peut-être qu’une illusion</span></b>. Elle doit comprendre. Elle n’est pas sûre. Elle doute même de vouloir vraiment savoir…
			</p>
		</div>

		<a href="/film" class="XmarginCenter btn light">
	  	EN SAVOIR PLUS
		</a>
	</div>

	<div style="height: 3px;width: 100vw;background-color: #B3D3E0;"></div>
	<div id="accueil2"></div>

	<div id="accueil3">
	</div>

	<div id="accueil4">
		<picture>
		  <source media="(min-width: 768px)" srcset="images/accueil/citation.webp">
		  <source media="(max-width: 767px)" srcset="images/accueil/citation-mobile.webp">
		  <img src="images/accueil/citation.webp" alt="L'harmonie, c'est la conciliation des contraires, et pas l'écrasement des différences. Jean Cocteau" id="responsive-citation">
		</picture>

		<div id="responsive-cocteaujl">
			<img src="images/accueil/cocteau.webp" alt="Dessin de Jean Cocteau" id="responsive-cocteau">

			<div id="responsive-jl">
				<img src="images/accueil/jeremy-lavalade.webp" alt="Photo de Jérémy Lavalade, Producteur & Réalisateur de L'Harmonie du Doute" id="responsive-jlphoto"><br>

				<div class="fond rect horizontal pink2" style="position: relative;float: right;top: -1.5vw;flex-direction: column;width: max-content;padding-top: 4%;padding-bottom: 4%;">
					<h4 class="dark-font center">Jérémy LAVALADE<br>
					Producteur & Co-Réalisateur</h4>
					<a href="/equipe" class="btn light" style="margin-bottom: 0;">
				  	DÉCOUVRIR L'ÉQUIPE
					</a>
				</div>
			</div>
		</div>

		<div class="display-computer-tablette">
			<div class="fond rect horizontal light2 Xmargin10" style="display: block;">
				<div style="display:flex;">
					<div style="display:flex;flex-direction: column;justify-content: space-around;">
						<h2 class="center dark-font" style="position: relative; top: 0;width: max-content;">Les Objectifs<br>du Film</h2>
						<a href="/le-film/objectifs-du-film" class="XmarginCenter btn dark">
					  	EN SAVOIR PLUS
						</a>
					</div>
					<div style="width:15px;height: auto;background-color: #343737;margin: 20px 3vw;"></div>
					<p class="justify dark-font">A travers une recherche d’<b>équilibre entre harmonie et doute, esprit critique et passivité, humains et environnement</b>, nous voulons faire ressentir le plaisir de l’audace et de la remise en question, ce plaisir de prendre part activement, à son niveau, à l’évolution durable de la société…</p>
				</div>	
			</div>
		</div>

		<div class="display-mobile">
			<div class="fond rect vertical light2 Xmargin5" style="display: block;padding: 10vw;padding-bottom: 5vw;">
				<h2 class="center dark-font" style="position: relative; top: 0;width: max-content;">Les Objectifs<br>du Film</h2>
				<p class="justify dark-font">A travers une recherche d’<b>équilibre entre harmonie et doute, esprit critique et passivité, humains et environnement</b>, nous voulons faire ressentir le plaisir de l’audace et de la remise en question, ce plaisir de prendre part activement, à son niveau, à l’évolution durable de la société…</p>
				<a href="/film/objectifs-du-film" class="XmarginCenter btn dark">
			  	EN SAVOIR PLUS
				</a>
			</div>
		</div>

		<div class="display-computer">
			<div class="XmarginCenter" style="position: relative;display: block;margin-top: 7vw;width: max-content;height: 6vw;">
				<img id="accueil-arrow2" src="images/icons/signs/pink-arrow-est-inverted.webp" alt="Flèche">
				<a href="/nous-soutenir" class="btn light">
			  	NOUS SOUTENIR
				</a>
				<img id="accueil-flower2" src="images/icons/signs/fleur.webp">
				
				<img id="accueil-flower1" src="images/icons/signs/fleur-inverted.webp">
				<a href="/nous-rejoindre" class="btn light">
			  	NOUS REJOINDRE
				</a>
				<img id="accueil-arrow1" src="images/icons/signs/pink-arrow-ouest.webp" alt="Flèche">
			</div>
		</div>

		<div class="display-tablette-mobile">
			<div class="XmarginCenter" style="position: relative;display: block;margin-top: 14vw;width: max-content;height: max-content;">
				<div style="margin-bottom: 13vw;">
					<img id="accueil-flower1" src="images/icons/signs/fleur-inverted.webp">
					<a href="/nous-soutenir" class="btn light">
				  	NOUS SOUTENIR
					</a>
					<img id="accueil-arrow1" src="images/icons/signs/pink-arrow-ouest.webp" alt="Flèche">
				</div>
				<div>
					<img id="accueil-arrow2" src="images/icons/signs/pink-arrow-est-inverted.webp" alt="Flèche">
					<a href="/nous-rejoindre" class="btn light">
				  	NOUS REJOINDRE
					</a>
					<img id="accueil-flower2" src="images/icons/signs/fleur.webp">
				</div>
			</div>
		</div>

		<div class="display-mobile" style="width: 100vw;height: 10vw;"></div>
		<div class="display-computer-tablette" style="width: 100vw;height: 7vw;"></div>
	</div>

<!-- FOOTER -->
	<div id="footer" style="position: relative;"></div>

<!-- SCRIPT HEADER -->
<script>
	document.addEventListener('DOMContentLoaded', function() {
	function waitForElementToDisplay(selector, time) {
	    if (document.querySelector(selector) != null) {
	        updateLogoPosition();  // Exécuter la mise à jour de la position du logo après que l'élément soit détecté
	        updateTopPosition();   // Exécuter la mise à jour de la position top après que l'élément soit détecté
	        attachEventHandlers(); // Attacher les gestionnaires d'événements pour scroll et resize
	    } else {
	        setTimeout(function() {
	            waitForElementToDisplay(selector, time); // Attendre et réessayer si l'élément n'est pas encore chargé
	        }, time);
	    }
	}

	function attachEventHandlers() {
	    window.addEventListener('scroll', function() {
	        updateLogoPosition();
	        updateTopPosition();
	    });
	    window.addEventListener('resize', function() {
	        updateLogoPosition();
	        updateTopPosition();
	    });
	}

	function updateLogoPosition() {
	  const logo = document.getElementById('titre-header');
	  const image = document.getElementById('header-doute');
	  if (logo) {
	      const scrollY = window.scrollY;
	      const screenWidth = window.innerWidth;
	      const screenHeight = window.innerHeight;

	      //BORNES DEBUT ET FIN ANIMATION LOGO HEADER
	        const positionScrollA = 0;
	        const positionScrollB = Math.min(screenHeight * 0.3, screenWidth * 0.5);

	      //LEFT POSITION
	        // Positions de départ et de fin pour la position gauche
	        let leftPositionA;
	        if (screenWidth < 380 || (screenWidth >= 1023 && screenWidth <= 1050)) {
	            leftPositionA = screenWidth * 0.1 - 10;
	        } else {
	            leftPositionA = screenWidth * 0.1 - 75;
	        }
	        const leftPositionB = 0;

	        // Calcul de la nouvelle position gauche
	        const leftPosition = leftPositionA + ((leftPositionB - leftPositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA);

	        // Assurez-vous que la position gauche ne devient jamais négative
	        if (leftPositionA >= 0) {
	            logo.style.left = leftPosition < 0 ? '0px' : leftPosition + 'px';
	        } else {
	            logo.style.left = leftPosition > 0 ? '0px' : leftPosition + 'px';
	        }

	      //TOP POSITION
	        // Positions de départ et de fin pour la position haute
	        const topPositionA = Math.min(screenHeight * 0.25, screenWidth * 0.3);
	        const topPositionB = 0;

	        // Calcul de la nouvelle position haute
	        const topPosition = topPositionA + ((topPositionB - topPositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA);

	        // Assurez-vous que la position haute ne devient jamais négative
	        logo.style.top = topPosition < 0 ? '0px' : topPosition + 'px';

	      //HEIGHT LEVEL
	        // Positions de départ et de fin pour la largeur
	        const heightPositionA = screenWidth * 0.8 * (1100/4791);
	        const heightPositionB = 50;

	        // Calcul de la nouvelle largeur
	        const heightPosition = heightPositionA + ((heightPositionB - heightPositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA);

	        // Assurez-vous que la largeur ne devient jamais négative
	        logo.style.height = heightPosition < 50 ? '50px' : heightPosition + 'px';

	      //CENTRAGE
	        // Positions de départ et de fin pour la largeur
	        const centragePositionA = 9.5;
	        const centragePositionB = 0;

	        // Calcul de la nouvelle largeur
	        const centragePosition = centragePositionA + ((centragePositionB - centragePositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA);

	        // Assurez-vous que la largeur ne devient jamais négative
	        image.style.transform = centragePosition < 0 ? 'translateX(0%)' : 'translateX(' + centragePosition + '%)';

	      //MARGIN TOP DOUTE
	        // Positions de départ et de fin pour la largeur
	        const margintopPositionA = screenHeight * 0.01;
	        const margintopPositionB = 0;

	        // Calcul de la nouvelle largeur
	        const margintopPosition = margintopPositionA + ((margintopPositionB - margintopPositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA);

	        // Assurez-vous que la largeur ne devient jamais négative
	        image.style.marginTop = margintopPosition < 0 ? '0' : margintopPosition + 'px';

	      if (topPosition < 0 && image.src.endsWith("doute-logo-film.webp")) {
	          if (screenWidth < 380) {
		          applyTemporaryBlurTransition('titre-header', 400);
	            setTimeout(() => {
	                image.src = "images/logo-hdd/doute-logo.webp";
	                image.style.height = "48%";
	            }, 50);
		        } else if (screenWidth >= 1024 && screenWidth <= 1049) {
		          applyTemporaryBlurTransition('titre-header', 400);
	            setTimeout(() => {
	                image.src = "images/logo-hdd/doute-logo.webp";
	                image.style.height = "48%";
	            }, 50);
		        } else {
		          applyTemporaryBlurTransition('titre-header', 400);
	            setTimeout(() => {
	                image.src = "images/logo-hdd/doute.webp";
	                image.style.height = "48%";
	            }, 50);
		        }

	      }
	      if (topPosition > 0 && image.src.endsWith("doute.webp")) {
	          applyTemporaryBlurTransition('titre-header', 400);
	          setTimeout(() => {
	              image.src = "images/logo-hdd/doute-logo-film.webp";
	              image.style.height = "72%";
	          }, 50);
	      }
	      if (topPosition > 0 && image.src.endsWith("doute-logo.webp")) {
	          applyTemporaryBlurTransition('titre-header', 400);
	          setTimeout(() => {
	              image.src = "images/logo-hdd/doute-logo-film.webp";
	              image.style.height = "72%";
	          }, 50);
	      }
	  }
	}
	function applyTemporaryBlurTransition(elementId, duration) {
	    let element = document.getElementById(elementId);
	    
	    if (!element) {
	        console.error("Element not found: " + elementId);
	        return;
	    }
	    
	    element.style.transition = `filter ${duration}ms ease-in-out`;
	    element.style.filter = 'blur(5px)';  // Appliquer un effet de flou pour créer une transition visuelle

	    setTimeout(() => {
	        element.style.filter = 'none';  // Retirer l'effet de flou après la durée spécifiée
	    }, duration);
	}
	function updateTopPosition() {
	    var titreHeader = document.getElementById('titre-header');
	    var accueil1 = document.getElementById('accueil1');
	    const screenWidth = window.innerWidth;
	    const screenHeight = window.innerHeight;

	    if (!titreHeader || !accueil1) {
	        console.error('One or more elements are not found.');
	        return;
	    }

	    const rect = titreHeader.getBoundingClientRect();
	    const bottomPosition = rect.bottom + Math.max(screenHeight * 0.1, screenWidth * 0.1);
	    accueil1.style.paddingTop = `${bottomPosition}px`;
	}
	// Initialiser les écouteurs d'événements une fois que le DOM est complètement chargé
	waitForElementToDisplay("#titre-header", 100);
	});
</script>
<!-- SCRIPT MER -->
<script>
  // Initialisation de l'application PixiJS
	let app;
	let image;
	let displacementSprite;
	let displacementFilter;

	function initializePixiApp() {
	  app = new PIXI.Application({
	    width: window.innerWidth, 
	    height: 500 // Démarre avec une hauteur initiale
	  });

	  const parentElement = document.getElementById('accueil2');
	  parentElement.insertBefore(app.view, parentElement.firstChild);

	  image = PIXI.Sprite.from('images/accueil/mer.webp');
	  image.width = app.screen.width;
	  image.height = app.screen.height;
	  app.stage.addChild(image);

	  displacementSprite = PIXI.Sprite.from('images/accueil/displacement-map.webp');
	  displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);
	  displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.MIRRORED_REPEAT;
	  displacementSprite.width = app.screen.width*1.2;
	  displacementSprite.height = app.screen.height;
	  displacementSprite.x = -app.screen.height*0.1;
	  app.stage.addChild(displacementSprite);

	  app.stage.filters = [displacementFilter];

	  app.ticker.add(() => {
	    displacementSprite.x += 0;
	    displacementSprite.y += 0.07;
	  });
	}

	// Fonction pour ajuster la hauteur du canvas basée sur le scrollY
	function adjustCanvasHeight(e) {
	  const scrollY = window.scrollY;
	  const rect = document.getElementById('accueil1').getBoundingClientRect();

	  // BORNES DEBUT ET FIN ANIMATION
	  const positionScrollA = rect.bottom;
	  const positionScrollB = rect.bottom + Math.min(window.innerWidth,window.innerHeight)*1.5;

	  // HEIGHT LEVEL
	  // Positions de départ et de fin pour la hauteur
	  const heightPositionA = Math.min(window.innerWidth,window.innerHeight);
	  const heightPositionB = 50;

	  // Calcul de la nouvelle hauteur
	  const newHeight = Math.min(Math.max(heightPositionA + ((heightPositionB - heightPositionA) / (positionScrollB - positionScrollA)) * (scrollY - positionScrollA), heightPositionB), heightPositionA);

	  // Applique la nouvelle hauteur au canvas et à l'image PixiJS
	  app.renderer.resize(window.innerWidth, newHeight);
	  image.height = newHeight;
	  document.getElementById('accueil2').style.height = newHeight +'px';


		const rect2 = document.getElementById('accueil2').getBoundingClientRect();
	  // BORNES DEBUT ET FIN ANIMATION
	  const positionScrollA2 = rect.bottom + Math.min(window.innerWidth,window.innerHeight)*1;
	  const positionScrollB2 = rect2.bottom + Math.min(window.innerWidth,window.innerHeight)*2;

	  // HEIGHT LEVEL
	  // Positions de départ et de fin pour la hauteur
	  const heightPositionA2 = Math.min(window.innerWidth,window.innerHeight)/50;
	  const heightPositionB2 = Math.min(window.innerWidth,window.innerHeight)/3;

	  // Calcul de la nouvelle hauteur
	  const newHeight2 = Math.max(Math.min(heightPositionA2 + ((heightPositionB2 - heightPositionA2) / (positionScrollB2 - positionScrollA2)) * (scrollY - positionScrollA2), heightPositionB2), heightPositionA2);

	  document.getElementById('accueil3').style.height = newHeight2 +'px';
	  document.getElementById('accueil3').style.top = -newHeight2 +'px';
		document.getElementById('accueil4').style.marginTop = -newHeight2-1 +'px';
	}

	// Écouteur d'événement pour le défilement
	window.addEventListener('scroll', adjustCanvasHeight);
	window.addEventListener('load', adjustCanvasHeight);

	// Initialisation de PixiJS lors du chargement de la fenêtre
	window.onload = initializePixiApp;
	

</script>
</body>

</html>